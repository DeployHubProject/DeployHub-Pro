<!-- DeployHub Export File -->
<action name="WriteEnv2File" summary="" isGraphical="N" category="General">
<kind copy="N">2</kind>
<dmscript>
ICBzZXQgLWcgUnNwRmlsZSA9ICR7ZHJvcHpvbmUucGF0aH0gKyAiL2Vudi5kYXQiOwogICAgc2V0IGQgPSBub3coKTsKICAgIHNldCBzbmFtZSA9ICJzIiArICR7ZC50b19pbnQoKX07CgogICAgZXZhbCgidXNpbmcgc3RyZWFtIFwkJHNuYW1lOyIpOwogICAgZXZhbCgic2V0IGVudnN0cmVhbSA9IFwkJHNuYW1lOyIpOwogICAgIAogICAgdXNpbmcgc3RyZWFtICRlbnZzdHJlYW0gewogICAgZWNobyAiZHJvcHpvbmU6ICIgKyAke2Ryb3B6b25lLnBhdGh9OwogICAgZWNobyAiZW52aXJvbm1lbnQ6ICIgKyAke2Vudmlyb25tZW50Lm5hbWV9OwogICAgZWNobyAiYXBwbGljYXRpb246ICIgKyAke2FwcGxpY2F0aW9uLm5hbWV9OwogICAgZWNobyAiY29tcG9uZW50OiAiICsgJHtjb21wb25lbnQubmFtZX07CiAgICBlY2hvICJzZXJ2ZXJfbmFtZTogIiArICR7c2VydmVyLm5hbWV9OwogICAgZWNobyAic2VydmVyX2hvc3RuYW1lOiAiICsgJHtzZXJ2ZXIuaG9zdG5hbWV9OwogICAgZWNobyAidGFyZ2V0T1M6ICIgKyAke3NlcnZlci50eXBlfTsKICAgIAogICAgc2V0IGNyZWQgPSAke3NlcnZlci5jcmVkZW50aWFsfTsKICAgIGlmICgke2NyZWQuaWR9KQogICAgewogICAgIGVjaG8gInNzaHVzZXI6ICIgKyAke2NyZWQudXNlcm5hbWV9OwogICAgIGlmICgke2NyZWQua2luZG5hbWV9ID0gIlByaXZhdGUgS2V5IikKICAgICB7CiAgICAgIGVjaG8gInNzaGtleWZpbGU6ICIgKyAke2NyZWQuZmlsZW5hbWV9OwogICAgIH0KICAgICBlbHNlCiAgICAgewogICAgICBlY2hvICJzc2hwYXNzOiAiICsgJHtjcmVkLnBhc3N3b3JkfTsKICAgICB9CiAgICB9CiAgICAKICAgICAgICAKICAgIGlmICgke2Vudmlyb25tZW50LmlkfSkKICAgIHsgICAgCiAgICAgZm9yZWFjaChlbnZhdDogJHtlbnZpcm9ubWVudC5hdHRyaWJ1dGVzfSkgCiAgICAgeyAgCiAgICAgICBlY2hvICRlbnZhdCArICI6ICIgKyAke2Vudmlyb25tZW50LmF0dHJpYnV0ZXNbJGVudmF0XX07CiAgICAgfQogICAgfQogICAgCiAgICBpZiAoJHthcHBsaWNhdGlvbi5pZH0pCiAgICB7ICAgCiAgICAgZm9yZWFjaChhcHBhdDogJHthcHBsaWNhdGlvbi5hdHRyaWJ1dGVzfSkgCiAgICAgeyAgCiAgICAgICBlY2hvICRhcHBhdCArICI6ICIgKyAke2FwcGxpY2F0aW9uLmF0dHJpYnV0ZXNbJGFwcGF0XX07CiAgICAgfQogICAgfSAKICAgICAgICAKICAgIGlmICgke3NlcnZlci5pZH0pCiAgICB7IAogICAgIGZvcmVhY2goc3J2YXQ6ICR7c2VydmVyLmF0dHJpYnV0ZXN9KSAKICAgICB7ICAKICAgICAgZWNobyAkc3J2YXQgKyAiOiAiICsgJHtzZXJ2ZXIuYXR0cmlidXRlc1skc3J2YXRdfTsKICAgICB9CiAgICB9IAogICAgICAKICAgIGlmICgke2NvbXBvbmVudC5pZH0pCiAgICB7ICAgICAgICAgICAgICAgICAgICAgICAKICAgICBmb3JlYWNoKGNvbXBhdDogJHtjb21wb25lbnQuYXR0cmlidXRlc30pIAogICAgIHsgIAogICAgICBlY2hvICRjb21wYXQgKyAiOiAiICsgJHtjb21wb25lbnQuYXR0cmlidXRlc1skY29tcGF0XX07ICAgICAgIAogICAgIH0KICAgIH0KICAgICAgICAgICAgICAKICAgIHNldCBjcmVkcyA9ICR7ZW52aXJvbm1lbnQuYXR0cmlidXRlc1snY3JlZHMnXX07CiAgICAKICAgIGZvcmVhY2goY3JlZDogJGNyZWRzKSAKICAgIHsKICAgICBzZXQgY3JlZG5hbWUgPSAke2NyZWRzWyRjcmVkXX07CiAgICAgc2V0IGMgPSBnZXRjcmVkZW50aWFsKCRjcmVkbmFtZSk7CiAgICAgIAogICAgIGVjaG8gJGNyZWQgKyAidXNlcjogIiArICR7Yy51c2VybmFtZX07CiAgICAgZWNobyAkY3JlZCArICJwYXNzOiAiICsgJHtjLnBhc3N3b3JkfTsgCiAgICB9CiAgICAKICAgIHNldCBjcmVkcyA9ICR7ZW52aXJvbm1lbnQuYXR0cmlidXRlc1snY3JlZHMnXX07CiAgICAKICAgIGZvcmVhY2goY3JlZDogJGNyZWRzKSAKICAgIHsKICAgICBzZXQgY3JlZG5hbWUgPSAke2NyZWRzWyRjcmVkXX07CiAgICAgc2V0IGMgPSBnZXRjcmVkZW50aWFsKCRjcmVkbmFtZSk7CiAgICAgIAogICAgIGVjaG8gJGNyZWQgKyAidXNlcjogIiArICR7Yy51c2VybmFtZX07CiAgICAgZWNobyAkY3JlZCArICJwYXNzOiAiICsgJHtjLnBhc3N3b3JkfTsgCiAgICB9CiAgICAKICAgIHNldCBjcmVkcyA9ICR7YXBwbGljYXRpb24uYXR0cmlidXRlc1snY3JlZHMnXX07CiAgICAKICAgIGZvcmVhY2goY3JlZDogJGNyZWRzKSAKICAgIHsKICAgICBzZXQgY3JlZG5hbWUgPSAke2NyZWRzWyRjcmVkXX07CiAgICAgc2V0IGMgPSBnZXRjcmVkZW50aWFsKCRjcmVkbmFtZSk7CiAgICAgIAogICAgIGVjaG8gJGNyZWQgKyAidXNlcjogIiArICR7Yy51c2VybmFtZX07CiAgICAgZWNobyAkY3JlZCArICJwYXNzOiAiICsgJHtjLnBhc3N3b3JkfTsgCiAgICB9CiAgICAKICAgIHNldCBjcmVkcyA9ICR7c2VydmVyLmF0dHJpYnV0ZXNbJ2NyZWRzJ119OwogICAgCiAgICBmb3JlYWNoKGNyZWQ6ICRjcmVkcykgCiAgICB7CiAgICAgc2V0IGNyZWRuYW1lID0gJHtjcmVkc1skY3JlZF19OwogICAgIHNldCBjID0gZ2V0Y3JlZGVudGlhbCgkY3JlZG5hbWUpOwogICAgICAKICAgICBlY2hvICRjcmVkICsgInVzZXI6ICIgKyAke2MudXNlcm5hbWV9OwogICAgIGVjaG8gJGNyZWQgKyAicGFzczogIiArICR7Yy5wYXNzd29yZH07IAogICAgfQogICAgCiAgICBzZXQgY3JlZHMgPSAke2NvbXBvbmVudC5hdHRyaWJ1dGVzWydjcmVkcyddfTsKICAgIAogICAgZm9yZWFjaChjcmVkOiAkY3JlZHMpIAogICAgewogICAgIHNldCBjcmVkbmFtZSA9ICR7Y3JlZHNbJGNyZWRdfTsKICAgICBzZXQgYyA9IGdldGNyZWRlbnRpYWwoJGNyZWRuYW1lKTsKICAgICAgCiAgICAgZWNobyAkY3JlZCArICJ1c2VyOiAiICsgJHtjLnVzZXJuYW1lfTsKICAgICBlY2hvICRjcmVkICsgInBhc3M6ICIgKyAke2MucGFzc3dvcmR9OyAKICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgIGNyZWF0ZShmaWxlOiAiZW52LmRhdCIsIHN0cmVhbTogJGVudnN0cmVhbSk7CiB9
</dmscript>
<arguments>
</arguments>
<fragment name="WriteEnv2File" summary="">
</fragment>
</action>
